<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo</title>
</head>

<body>

    <form action="">
        <input type="checkbox" name="group1[]" value="all"> Select All
        <input type="checkbox" name="group1[]" value="Option 1"> Option 1 </input>
        <input type="checkbox" name="group1[]" value="Option 2"> Option 2 </input>
        <input type="checkbox" name="group1[]" value="Option 3"> Option 3 </input>
        <input type="checkbox" name="group1[]" value="Option 4"> Option 4 </input>
    </form>


    <script type="module">
        import { cba } from './dist/cba.js';

        new cba('group1');

        document
            .querySelector('input[name="group1[]"][value="all"]')
            .addEventListener('cba:allChecked', (e) => {
                console.log('All checked for:', e.detail.fieldset);
            });
        document
            .querySelector('input[name="group1[]"]')
            .addEventListener('cba:countChecked', (e) => {
                console.log('Count checked for:', e.detail.checkedCount);
            });
    </script>
</body>

</html>